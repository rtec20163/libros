<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Home</title>
        <link rel="stylesheet" type="text/css" href="css/estilos.css"/>
        <style type="text/css">
            body {
                background-color: #6E6E6E;
                background-image:url("img/fondoC.png");
            }
        </style>
    </h:head>
    <h:body>
        <script src = "http://maps.googleapis.com/maps/api/js?sensor=true|false" type="text/javascript"></script>

        <h:form>

            <p:growl id="messages" showDetail="true" sticky="false" life="3000"  />


            <p:inputText value="#{beanPublicacion.valorBusqueda}"/>

            <h:outputText value="BUSQUEDA POR:" style="color:white;font-size: larger;"/>
            <h:commandButton title="Titulo" value="Titulo" action="#{beanPublicacion.mostrarPorTitulo()}"/>
            <h:commandButton title="Editorial" value="Editorial" action="#{beanPublicacion.mostrarPorEditorial()}"/>
            <h:commandButton title="ISBN" value="ISBN" action="#{beanPublicacion.mostrarPorISBN()}"/>
            <h:commandButton title="Calificacion de redaccion" value="Redaccion" action="#{beanPublicacion.mostrarPorCRedaccion()}"/>
            <h:commandButton title="Calificacion de contenido" value="Contenido" action="#{beanPublicacion.mostrarPorCContenido()}"/>
            <h:commandButton title="latitud" value="Latitud" action="#{beanPublicacion.mostrarPorPReservadas()}"/>
            <h:commandButton title="Todas las publicaciones" value="Ver todo" action="#{beanPublicacion.mostrarTodasPublicaciones(beanLogout.id)}"/>


            <p:menubar style="background:#D8D8D8;border: outset; ">

                <p:menuitem value="Publicar un libro" url="#{beanIndex.PUBLICAR()}" icon="ui-icon-right-open-1"/>

                <p:submenu label="Ver" icon="ui-icon-document">
                    <p:menuitem value="Mis publicaciones" url="#{beanIndex.MIS_PUBLICACIONES()}" icon="fa fa-home"/>                

                </p:submenu> 
                <p:submenu label="Solicitudes" icon="ui-icon-pencil">
                    <p:menuitem value="Mis solicitudes " action="#{beanIndex.MIS_SOLICITUDES()}"/>
                    <p:separator />   
                    <p:menuitem value="Solicitudes " action="#{beanIndex.SOLICITUDES()}"/>
                    <p:separator />
                    <p:menuitem value="Solicitudes aceptadas" action="#{beanIndex.SOLICITUDES_ACEPTADAS()}"/>
                </p:submenu>
                <p:menuitem value="Cerrar Sesión" action="#{beanLogout.cerrarSesion()}" icon="ui-icon-extlink" />                       
            </p:menubar>
            <div class="contenedor">
                <div class="contenedor-logo">                    
                    <a href="inicio.xhtml"> <img id="logo-rtec" src="img/RTEC-1_1.jpg"/></a>
                </div>                
                <div class="contenedor-texto">                
                    <span class="menu">
                        <h:outputLabel id="bienvenido" value="Bienvenido  "/>
                        <h:outputText value="#{beanLogout.usuario}"/><br/>
                        Libros Disponibles</span>


                </div>
            </div>
            <p:dataTable var="publicaciones" value="#{beanPublicacion.listaBusqueda}" resizableColumns="true" style="margin-top: 20px" emptyMessage="Todavía no hay actividades que mostrar">
                <p:column headerText="Titulo">
                    <h:outputText value="#{publicaciones.LTitulo}" />
                </p:column>
                <p:column headerText="Autor">
                    <h:outputText value="#{publicaciones.LLatitud}" />
                </p:column>
                <p:column headerText="Editorial">
                    <h:outputText value="#{publicaciones.LEditorial}" />
                </p:column>
                <p:column headerText="Palabras clave">
                    <h:outputText value="#{publicaciones.LPablasClave}" />
                </p:column>

                <p:column headerText="Usuario">
                    <h:outputText value="#{publicaciones.usuario.UNombre}"/>
                </p:column>


                <p:column headerText="Prestamo">
                    <h:commandButton value="Solicitar" action="inicio"  />
                </p:column>

            </p:dataTable>


        </h:form>        




    </h:body>
</html>